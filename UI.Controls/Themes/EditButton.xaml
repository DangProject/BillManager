<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:UI.Controls">

    <Style TargetType="{x:Type local:EditButton}">
        <Setter Property="Width" Value="Auto"/>
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="EditButtonBorder" SnapsToDevicePixels="True"
				            BorderThickness="{TemplateBinding BorderThickness}"
				            BorderBrush="{TemplateBinding BorderBrush}"                          
				            Background="{TemplateBinding Background}" >
                        <StackPanel>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <ContentPresenter Grid.Column="1" Content="{TemplateBinding Content}" Margin="{TemplateBinding Padding}"
                                                  ContentTemplate="{TemplateBinding ContentTemplate}" VerticalAlignment="Center"                                                   
                                                  HorizontalAlignment="Left">
                                </ContentPresenter>
                                <Path x:Name="Pencil" 
                                      Width="{Binding PencilWidth, RelativeSource={RelativeSource AncestorType={x:Type local:EditButton}}}" 
                                      Height="{Binding PencilHeight, RelativeSource={RelativeSource AncestorType={x:Type local:EditButton}}}"
                                      Stretch="Fill" VerticalAlignment="Center"
                                      UseLayoutRounding="False" Fill="{TemplateBinding Foreground}" 
                                      Data="F1 M 0,18.705L 1.21503,13.005L 8.17502,6.0975L 14.2275,3.05176e-005C 15.0875,-0.154999 16.095,0.337494 17.25,1.47751C 18.375,2.60251 18.8675,3.61002 18.7275,4.50003L 12.675,10.545L 5.71503,17.505L 0,18.705 Z M 1.5,15.3075C 2.01501,15.5875 2.38254,15.86 2.60251,16.125C 2.96252,16.485 3.25,16.8525 3.46503,17.2275L 5.39252,16.785L 5.95502,16.2675C 5.92001,15.5625 5.52002,14.8125 4.755,14.0175C 4.39502,13.6575 4.02377,13.3763 3.6413,13.1737C 3.25876,12.9713 2.97504,12.845 2.79001,12.795L 2.46002,12.75L 1.92001,13.335L 1.5,15.3075 Z "/>
                            </Grid>
                            <Border x:Name="Underline" BorderBrush="{TemplateBinding Foreground}" BorderThickness=".5"
                                    Margin="0,0,0,0" Visibility="Hidden"
                                    VerticalAlignment="Bottom" />
                        </StackPanel>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Underline" Property="Visibility" Value="Visible" />
                            <Setter Property="Opacity" Value=".8" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="True">
                            <Setter Property="Foreground" Value="{DynamicResource IntelBlueBrush}" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="Pencil" Property="Fill" Value="{DynamicResource IntelGrayBrush}" />
                            <!--<Setter Property="Foreground" Value="{DynamicResource IntelGrayBrush}" />-->
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
</ResourceDictionary>